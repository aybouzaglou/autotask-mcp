# Requirements Traceability Matrix

## Story: 1.6 - Ticket Patch Tool

### Coverage Summary

- Total Requirements: 5 (AC1-AC5)
- Fully Covered: 5 (100%)
- Partially Covered: 0 (0%)
- Not Covered: 0 (0%)

### Requirement Mappings

#### AC1: Tool listed with correct schema and required ticketId

- Unit Test: tests/tool-handler.test.ts::listTools advertises update_ticket
  - Given: Handler instance
  - When: listTools is called
  - Then: update_ticket is present and requires ticketId

#### AC2: Delegation to service with filtered fields

- Unit Test: tests/tool-handler.test.ts::callTool delegates to service
  - Given: Payload with valid fields and an ignored field
  - When: callTool('update_ticket', payload)
  - Then: Service receives only sanctioned fields; success reported

#### AC3: Validation rejects empty mutable updates

- Unit Test: tests/tool-handler.test.ts::callTool rejects when no mutable fields
  - Given: ticketId only
  - When: callTool invoked
  - Then: Error about requiring at least one mutable field

#### AC4: Error surfaces details

- Unit Test: tests/tool-handler.test.ts (extend in future if service throws)
  - Given: Service rejects
  - When: callTool invoked
  - Then: Error content propagated in handler response

#### AC5: Documentation updated with usage guidance

- Doc Evidence:
  - README.md (tooling list includes update_ticket)
  - docs/TESTING_INSTRUCTIONS.md (Ticket Patch Tool Smoke Test)

### Critical Gaps

None identified for AC1â€“AC5.

---

trace:
  totals:
    requirements: 5
    full: 5
    partial: 0
    none: 0
  planning_ref: 'docs/qa/assessments/1.6-test-design-2025-09-17.md'
  uncovered: []
  notes: 'docs/qa/assessments/1.6-trace-2025-09-17.md'
